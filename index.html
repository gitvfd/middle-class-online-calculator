
<!doctype html>
<html>
<meta charset="utf-8">

<head>
    <link href="https://fonts.googleapis.com/css?family=Raleway" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <script src="libs/d3.v4.min.js"></script>
    <script src="js/update.js"></script>



</head>

<body id="page">
<div id="selector">
    <div class="selTitle">Country:</div>
    <select class="dropdownSel" id="ctrSel" onchange="update()">
        <option value="AUS" >Australia</option>
        <option value="AUT">Austria</option>
        <option value="BEL">Belgium</option>
        <option value="BRA">Brazil</option>
        <option value="CAN">Canada</option>
        <option value="CHN">China</option>
        <option value="CHL">Chile</option>
        <option value="CZE">Czech Republic</option>
        <option value="DNK">Denmark</option>
        <option value="EST">Estonia</option>
        <option value="FIN">Finland</option>
        <option value="FRA">France</option>
        <option value="DEU">Germany</option>
        <option value="GRC">Greece</option>
        <option value="HUN">Hungary</option>
        <option value="ISL">Iceland</option>
        <option value="IND">India</option>
        <option value="IRL">Ireland</option>
        <option value="ISR">Israel</option>
        <option value="ITA">Italy</option>
        <option value="JPN">Japan</option>
        <option value="KOR">Korea</option>
        <option value="LVA">Latvia</option>
        <option value="LTU">Lithuania</option>
        <option value="LUX">Luxembourg</option>
        <option value="MEX">Mexico</option>
        <option value="NLD">Netherlands</option>
        <option value="NOR">Norway</option>
        <option value="POL">Poland</option>
        <option value="PRT">Portugal</option>
        <option value="RUS">Russian Federation</option>
        <option value="SVK">Slovakia</option>
        <option value=SVN>Slovenia</option>
        <option value="ZAF">South Africa</option>
        <option value="ESP">Spain</option>
        <option value="SWE">Sweden</option>
        <option value="CHE">Switzerland</option>
        <option value="TUR">Turkey</option>
        <option value="GBR">United Kingdom</option>
        <option value="USA">United States</option>
    </select>
    <!--<div class="selTitle">Your familly structure:</div>
    <select class="dropdownSel" id="criSelector" onchange="update()">
            <option value="Population share by income class">-</option>
            <option value="family type: single adult">family type:single adult</option>
            <option value="family type: single parent">family type:single parent</option>
            <option value="family type: couple with children">family type:couple with children</option>
            <option value="family type: couple with no children">family type:couple with no children</option>
        </select>-->
    <div class="selTitle">How many persons leave in your household:</div>
    <div class="rangeslider">
        <input type="range" min="1" max="10" value="1" class="myslider" id="sliderRange">
        <p id="rangehhs">Value: <span id="householdSize"></span></p>
    </div>
    <div class="selTitle">Your income: <i>(in national currency)</i></div>
    <form>
    <label class="radio"><input type="radio"  id="yearlyRadio" name="incomeCalc" value="1" checked> Yearly</label>
        <label class="radio"><input type="radio"  id="monthlyRadio" name="incomeCalc" value="12"> Monthly</label>
    </form>
    <input id="incomeSel" type="text" value="your income" onchange="update()"><br>
</div>
<br>
<div id="year2010s">Mid 2010s</div>
<div id="chart2010s"></div>
<br>
<div id="chart2000s"></div>
<div id="year2000s">Mid 2000s</div>
</body>
<script>


        var dataTot = [];
        var dataThresholds=[];
        var counter = 0;

        d3.tsv("data/data_threshold.tsv", function (error, data) {
            data.forEach(function (d) {
                dataThresholds.push(d)
            })
        });
       
        d3.tsv("data/data.tsv", function (error, data) {
            data.forEach(function (d) {
                dataTot.push(d)
                counter++;
                if (counter === data.length) {
                    update();
                }
            })
        });


    var width = document.getElementById("chart2010s").offsetWidth;
    var height= 100;
    var height2000s = 50;
    var margin=10;

    const x = d3.scaleLinear()
                .domain([0, 100])
                .range([1, width]).nice()

    var scaleClass =d3.scaleOrdinal()
                .domain(["Lower","Middle","Upper"])
                .range(["#4FF1EE", "#43A5B4", "#356072"]);


    var svg2010s = d3.select("#chart2010s")
        .append("svg")
        .attr("width", width)
        .attr("height", height)
        .style("background", "none");

    var svg2000s= d3.select("#chart2000s")
        .append("svg")
        .attr("width", width)
        .attr("height", height2000s)
        .style("background", "none");


  
    var rangeslider = document.getElementById("sliderRange");
    var output = document.getElementById("householdSize");
    output.innerHTML = rangeslider.value;

    rangeslider.oninput = function () {
        output.innerHTML = this.value;
        update();
    } 

</script>
</html>


<!--<select class="dropdownSel" id="criSelector" onchange="update()">
        <option value="-">-</option>
        <option value="family type: single adult">family type:single adult</option>
        <option value="family type: single parent">family type:single parent</option>
        <option value="family type: couple with children">family type:couple with children</option>
        <option value="family type: couple with no children">family type:couple with no children</option>
    </select><br>-->
    <!--<div class="selTitle">Age:</div>
        <select class="dropdownSel" id="ageSel" onchange="update()">
            <option value="-">-</option>
            <option value="age: 0-17">0-17</option>
            <option value="age: 18-29">18-29</option>
            <option value="age: 30-44">30-44</option>
            <option value="age: 45-64">45-64</option>
            <option value="age: 65 or older">65 or older</option>
        </select><br>
        <div class="selTitle">Education Level: </div>
        <select class="dropdownSel" id="eduSel" onchange="update()">
            <option value="-">-</option>
            <option value="education: less than upper secondary">less than upper secondary</option>
            <option value="education: upper secondary">education: upper secondary</option>
            <option value="education: tertiary">tertiary</option>
        </select><br>
        <div class="selTitle">Familly Type: </div>
        <select class="dropdownSel" class="dropdownSel" id="famSel" onchange="update()">
            <option value="-">-</option>
            <option value="family type: single adult">single adult</option>
            <option value="family type: single parent">single parent</option>
            <option value="family type: couple with children">couple with children</option>
            <option value="family type: couple with no children">couple with no children</option>
        </select><br>-->